if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}function n(e,t){o(e),o(t)}function i(e,i,s){var r={"content-type":"application/x-www-form-urlencoded"},c=getApp().globalData.data.userInfo;return t("log","at utils/app-util.js:178",getApp()),a(c)||(r.username=c.username,r.token=c.token,r.timestamp=Date.parse(new Date)),n(e,i),uni.request({timeout:2e4,url:e,data:i,header:r,method:"POST",success:function(e){s(e),o(e.data)},fail:function(e){o(e),s(!1)}})}function a(e){return void 0===e||null==e||""==e||!e}function o(e){getApp().globalData.data.isDebug&&t("log","at utils/app-util.js:476",e)}const s={byPostFormData:function(e,t,i,s){var r={};r["content-type"]=t;var c=getApp().globalData.data.userInfo;return a(c)||(r.username=c.username,r.token=c.token,r.timestamp=Date.parse(new Date)),n(e,i),uni.request({timeout:2e4,url:e,data:i,header:r,method:"POST",success:function(e){s(e),o(e.data)},fail:function(e){o(e),s(!1)}})},showToast:function(e){uni.showToast({title:e,icon:"none"})},showLoading:function(e){uni.showLoading({title:e,mask:!0})},hideLoading:function(){uni.hideLoading()},showSucessToast:function(e){uni.showToast({title:e,icon:"success"})},showModal:function(e,t,n){uni.showModal({title:"提示",content:e,showCancel:t,success:function(e){e.confirm?n(!0):e.cancel&&n(!1)}})},getSystemInfo:function(e){uni.getSystemInfo({success:function(t){e(t)}})},getSystemInfoComplete:function(e,t){uni.getSystemInfo({success:function(t){e(t)},complete:function(){t()}})},getWXLocation:function(e){uni.getLocation({type:"gcj02",success:function(t){e(t)},fail:function(t){e(t)}})},byGet:function(e,i,s){var r={"content-type":"application/x-www-form-urlencoded"},c=getApp().globalData.data.userInfo;return t("log","at utils/app-util.js:143",getApp()),a(c)||(r.username=c.username,r.token=c.token,r.timestamp=Date.parse(new Date)),n(e,i),i.version=getApp().globalData.data.version,uni.request({url:e,data:i,header:r,success:function(e){s(e),o(e.data)},fail:function(e){s(e)}})},byPost:i,byPostJson:function(e,t,i){var s={"content-type":"application/json"},r=getApp().globalData.data.userInfo;return a(r)||(s.username=r.username,s.token=r.token,s.timestamp=Date.parse(new Date)),n(e,t),uni.request({timeout:2e4,url:e,data:t,header:s,method:"POST",success:function(e){i(e),o(e.data)},fail:function(e){o(e),i(!1)}})},SCOPE_TYPE:{SCOPE_LOCATION:"scope.userLocation",SCOPE_CAMERA:"scope.camera",SCOPE_BLUETOOTH:"scope.bluetooth"},getAuthState:function(e,t){uni.getSetting({success(n){n.authSetting[e]?t(!0):t(!1)}})},authorize:function(e,t){uni.authorize({scope:e,success(){t(!0)},fail(){t(!1)}})},getStorage:function(e,t){e?uni.getStorage({key:e,success:function(e){t(e.data)},fail:function(e){t(!1)}}):t("")},setStorage:function(e,t,n){uni.setStorage({key:e,data:t,success(){n(!0)},fail(){n(!1)}})},clearStorage:function(){uni.clearStorage()},getNetworkType:function(e){uni.getNetworkType({success:function(t){e("none"!=t.networkType)},fail:function(t){e(!0)}})},onNetworkStatusChange:function(e){uni.onNetworkStatusChange((function(t){e(t)}))},openLocation:function(e,t,n){uni.openLocation({latitude:e,longitude:t,scale:n||18})},isEmpty:a,isNumber:function(e){return!!/^[0-9]*$/.test(e)},navigateTo:function(e){a(e)||uni.navigateTo({url:e})},SHOW_TYPE:{IDCARD_TYPE:1,DRIVINGCARD_TYPE:2,ALL_TYPE:3},chooseImageDefault:function(e){uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success(t){e(t)},fail(t){e(!1)}})},takePhoto:function(e,t){e.takePhoto({quality:"high",success:function(e){t(e)},fail:function(){t(!1)}})},getImageInfo:function(e,t){uni.getImageInfo({src:e,success:function(e){t(e)},fail:function(){t(!1)}})},uploadFile:function(e,t,i,a){return n(e,i),uni.uploadFile({url:e,filePath:t,name:"Filedata",header:{"content-type":"multipart/form-data"},formData:i,success(e){o(e),a(e)},fail:function(){a(!1)}})},uploadFile2:function(e,s,r,c,l){if(!a(r)){var u={"content-type":"multipart/form-data"},d=getApp().globalData.data.userInfo;return a(d)||(u.username=d.username,u.token=d.token,u.timestamp=Date.parse(new Date)),n(e,c),uni.uploadFile({url:e,filePath:r,name:s,header:u,formData:c,success(e){o(e),l(e)},fail:function(){l(!1),t("log","at utils/app-util.js:451","上传发生错误")}})}i(e,c,l)},jsDateFormatter:function(e){var t=e.getMonth()+1,n=e.getDate();return t>=1&&t<=9&&(t="0"+t),n>=0&&n<=9&&(n="0"+n),e.getFullYear()+"-"+t+"-"+n+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},log:o,isLogin:function(){return!a(getApp().globalData.data.userInfo)}};function r(e){var t=new Date;return("MM-dd HH:mm:ss SSS "+e+"\n").replace("yyyy",t.getFullYear()).replace("MM",c(t.getMonth()+1)).replace("dd",c(t.getDate())).replace("HH",c(t.getHours())).replace("mm",c(t.getMinutes())).replace("ss",c(t.getSeconds())).replace("SSS",t.getMilliseconds())}function c(e){return e.toString().length<2?"0"+e:e}function l(e){try{var n=uni.getStorageSync("log");if(n)try{var i=n+e;i.length>5120?uni.setStorageSync("log",i.substring(4096)):uni.setStorageSync("log",i)}catch(a){t("log","at utils/logger.js:71","CatchClause",a),t("log","at utils/logger.js:72","CatchClause",a)}else try{uni.setStorageSync("log",e)}catch(a){t("log","at utils/logger.js:78","CatchClause",a),t("log","at utils/logger.js:79","CatchClause",a)}}catch(a){t("log","at utils/logger.js:83","CatchClause",a),t("log","at utils/logger.js:84","CatchClause",a)}}const u={e:function(e,n){n?t("log","at utils/logger.js:6",e,n):t("log","at utils/logger.js:8",e),l(r(n?e+" "+n:e))},clear:function(){uni.setStorage({key:"log",data:""})},getDateString:function(e){var t=new Date(e);return"yyyy-MM-dd HH:mm:ss".replace("yyyy",t.getFullYear()).replace("MM",c(t.getMonth()+1)).replace("dd",c(t.getDate())).replace("HH",c(t.getHours())).replace("mm",c(t.getMinutes())).replace("ss",c(t.getSeconds())).replace("SSS",t.getMilliseconds())}};function d(e,t){var n=new Array(2);if(t)for(var i=n.length-1;i>=0;i--)n[i]=255&e,e>>=8;else for(i=0;i<n.length;i++)n[i]=255&e,e>>=8;return n}function g(e,t,n,i){return 255&i|(255&n)<<8|(255&t)<<16|(255&e)<<24}getApp();const h={hexStringToArrayBuffer:function(e){return new Uint8Array(e.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)})))},hexStringToArray:function(e){var t=new Uint8Array(e.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)})));return t.length>1?Array.apply(new Array,t):t},string2buffer:function(e){let t="";for(let n=0;n<e.length;n++)""===t?t=e.charCodeAt(n).toString(16):t+=e.charCodeAt(n).toString(16);return new Uint8Array(t.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)}))).buffer},stringToBytes:function(e){for(var t,n,i=[],a=0;a<e.length;a++){t=e.charCodeAt(a),n=[];do{n.push(255&t),t>>=8}while(t);i=i.concat(n.reverse())}return i},shortToSingleBytes:function(e,t){var n=new Array(1);return n[0]=255&e,n},shortToBytes:d,intToBytes:function(e,t){var n=new Array(4);if(t)for(var i=n.length-1;i>=0;i--)n[i]=255&e,e>>=8;else for(i=0;i<n.length;i++)n[i]=255&e,e>>=8;return n},crcEncrypt:function(e,t,n){var i=function(e,t,n,i){for(var a=65535,o=0;o<i;o++)a=a>>>8^e[255&(a^t[n+o])];return a}(e,t,0,t.length),a=d(i,!1),o=d(t.length+a.length,!0);return n.concat(o).concat(t).concat(a)},buf2hex:function(e){return Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("")},bytesToInt:g,bytesToShort:function(e,t){return g(0,0,e,t)},converTude2Double:function(e,t){return(255&e[t])+((255&e[t+1])+(255&e[t+2])/100+(255&e[t+3])/1e4)/60},getShortWith:function(e,t){if(null==e)return 0;var n=e.length,i=0;if(t)for(a=0;a<n;a++)i<<=8,i|=255&e[a];else for(var a=n-1;a>=0;a--)i<<=8,i|=255&e[a];return i},hexCharCodeToStr:function(e){var n,i=e.trim(),a="0x"===i.substr(0,2).toLowerCase()?i.substr(2):i,o=a.length;if(o%2!=0)return t("log","at utils/byte-util.js:231","Illegal Format ASCII Code!"),"";for(var s=[],r=0;r<o;r+=2)n=parseInt(a.substr(r,2),16),s.push(String.fromCharCode(n));return s.join("")},buf2string:function(e){for(var t=Array.prototype.map.call(new Uint8Array(e),(e=>e)),n="",i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return n},crcEncrypt_KTQUpgrade:function(e){for(var t=0,n=0;n<128;n++){t^=e[3+n]<<8;for(var i=0;i<8;i++)32768&t?t=t<<1^4129:t<<=1}return d(t,!0)}};var f="";const p="6E400001";var m="";const v="6E400001";var y="";const E="6E400002";var S="";const T="6E400003";var B="";const D="6E400004";var C,I,O="6E400001-B5A3-F393-E0A9-E50E24DCCA9E",A="6E400001-B5A3-F393-E0A9-E50E24DCCA9E",b="6E400003-B5A3-F393-E0A9-E50E24DCCA9E",L="6E400002-B5A3-F393-E0A9-E50E24DCCA9E",w="6E400004-B5A3-F393-E0A9-E50E24DCCA9E",U="",_="",k=!1,F=!1,H=!1,x=!1,N={BLUETOOTH_ERROR:-2,BLUETOOTH_CONNECT_FAILED:-1,BLUETOOTH_CONNECT_SUCESS:0,BLUETOOTH_ADAPTER_UNAVAILABLE:1,BLUETOOTH_DEVICES_DISCOVERY_FAILD:2,BLUETOOTH_SEND_FREQUENTLY:3,BLUETOOTH_PRE_EXECUTE:4,BLUETOOTH_NOT_FOUND:5,BLUETOOTH_UNSUPPORTED:6,BLUETOOTH_SEND_FAILED:7,BLUETOOTH_NO_RESPONSE:8};function V(){const e=new Date;return`${String(e.getMonth()+1).padStart(2,"0")}`+"/"+`${String(e.getDate()).padStart(2,"0")}`+" "+`${String(e.getHours()).padStart(2,"0")}`+":"+`${String(e.getMinutes()).padStart(2,"0")}`+":"+`${String(e.getSeconds()).padStart(2,"0")}`+"."+`${String(e.getMilliseconds()).padStart(3,"0")}`}function j(e){const t=uni.getDeviceInfo();var n=t.brand,i=t.platform,a=t.system;u.e("手机型号:"+n+",系统信息:"+i+",系统版本:"+a),e(!0)}function P(e){var n;H?k?e(k):R((function(t){K(t.available,t.discovering),e(t.available)})):(n=function(t){t?R((function(t){K(t.available,t.discovering),e(t.available)})):e(t)},uni.openBluetoothAdapter({success:function(e){t("log","at utils/BleKeyFun-utils-single.js:194",e),H=!0,n(!0)},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:199",e),H=!1,K(!1,!1),n(!1)}}))}function K(e,t){k=e,F=t}function R(e){uni.getBluetoothAdapterState({success:function(t){e(t)},fail:function(t){e(t)}})}function M(){uni.onBluetoothAdapterStateChange((function(e){u.e("adapterState changed, now is",e),K(e.available,e.discovering)}))}function $(){uni.createBLEConnection({deviceId:_,success:function(e){f="",y="",m="",S="",uni.getBLEDeviceServices({deviceId:_,success:function(e){for(var n=0;n<e.services.length;n++)t("log","at utils/BleKeyFun-utils-single.js:407",e),-1!=e.services[n].uuid.indexOf(p)&&(f=e.services[n].uuid),-1!=e.services[n].uuid.indexOf(v)&&(m=e.services[n].uuid);u.e("device设备的读服务id:",f),u.e("device设备的写服务id:",m),""==f||""==m||""!=y&&""!=S||uni.getBLEDeviceCharacteristics({deviceId:_,serviceId:f,success:function(e){for(var n=0;n<e.characteristics.length;n++)-1!=e.characteristics[n].uuid.indexOf(E)&&(y=e.characteristics[n].uuid);u.e("device设备的写特征值id:"+y),""==S&&uni.getBLEDeviceCharacteristics({deviceId:_,serviceId:m,success:function(e){for(var n=0;n<e.characteristics.length;n++)-1!=e.characteristics[n].uuid.indexOf(T)&&(S=e.characteristics[n].uuid),-1!=e.characteristics[n].uuid.indexOf(D)&&(B=e.characteristics[n].uuid);u.e("device设备的读特征值id:"+S),u.e("device设备的读Random特征值id:"+B),""!=S&&uni.notifyBLECharacteristicValueChange({deviceId:_,serviceId:m,characteristicId:S,state:!0,success:function(e){t("log","at utils/BleKeyFun-utils-single.js:495",e),s.getSystemInfoComplete((function(e){var t=e.system,n=t.indexOf(" "),i=t.indexOf(".");-1!=n&&-1!=i&&(t.substring(0,n),t.substring(n+1,i+2))}),(function(){uni.setBLEMTU({deviceId:_,mtu:240,success:function(e){t("log","at utils/BleKeyFun-utils-single.js:511","MTU modify success")},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:514","MTU modify fail")}})}))},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:522",e)}}),""!=B&&setTimeout((()=>{uni.readBLECharacteristicValue({deviceId:_,serviceId:m,characteristicId:B,state:!0,success:function(e){t("log","at utils/BleKeyFun-utils-single.js:571",e)},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:574",e)}})}),100)},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:464",e)}})},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:614",e)}})}})},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:276",e),C(N.BLUETOOTH_CONNECT_FAILED)}})}function q(){uni.getBLEDeviceServices({deviceId:_,success:function(e){u.e("device设备的读服务id:",A),u.e("device设备的写服务id:",O),uni.getBLEDeviceCharacteristics({deviceId:_,serviceId:A,success:function(e){u.e("device设备的写特征值id:"+L),uni.getBLEDeviceCharacteristics({deviceId:_,serviceId:O,success:function(e){u.e("device设备的读特征值id:"+b),u.e("device设备的读Random特征值id:"+w),uni.notifyBLECharacteristicValueChange({deviceId:_,serviceId:O,characteristicId:b,state:!0,success:function(e){s.getSystemInfoComplete((function(e){var t=e.system,n=t.indexOf(" "),i=t.indexOf(".");-1!=n&&-1!=i&&(t.substring(0,n),t.substring(n+1,i+2))}),(function(){uni.setBLEMTU({deviceId:_,mtu:240,success:function(e){t("log","at utils/BleKeyFun-utils-single.js:549","MTU modify success")},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:552","MTU modify fail")}})}))},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:559",e)}}),uni.readBLECharacteristicValue({deviceId:_,serviceId:O,characteristicId:w,state:!0,success:function(e){t("log","at utils/BleKeyFun-utils-single.js:586",e)},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:589",e)}})},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:480",e)}})},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:628",e)}})}})}function Y(){uni.onBluetoothDeviceFound((function(e){""!=e.devices[0].name&&u.e("device found:"+e.devices[0].name),U==e.devices[0].localName&&(t("log","at utils/BleKeyFun-utils-single.js:360",e),_=e.devices[0].deviceId,W(U),uni.onBLEConnectionStateChange((function(e){u.e(`device ${e.deviceId} state has changed, connected: ${e.connected}`),x=e.connected,null!=C&&C(x?N.BLUETOOTH_CONNECT_SUCESS:N.BLUETOOTH_ERROR),e.deviceId==_&&1==e.connected&&F&&G()})),M(),uni.onBLECharacteristicValueChange((function(e){var n=e.value,i=h.buf2hex(n),a=h.hexStringToArray(i);const o=V();-1!=e.characteristicId.indexOf(D)?(t("log","at utils/BleKeyFun-utils-single.js:644","随机指令接收:"+o+"  数据:"+i),u.e("随机指令数据:"+i,!1,!1,!0),I(0,a,h.hexCharCodeToStr(i),i)):(t("log","at utils/BleKeyFun-utils-single.js:648","通知指令接收:"+o+"  数据:"+i),u.e("通知指令接收:"+i,!1,!1,!0),I(1,a,h.hexCharCodeToStr(i),i))})),$())}))}function z(){M(),uni.onBLECharacteristicValueChange((function(e){var n=e.value,i=h.buf2hex(n),a=h.hexStringToArray(i);const o=V();e.characteristicId==w?(t("log","at utils/BleKeyFun-utils-single.js:663","随机指令接收:"+o+"  数据:"+i),u.e("随机指令数据:"+i,!1,!1,!0),I(0,a,h.hexCharCodeToStr(i),i)):(t("log","at utils/BleKeyFun-utils-single.js:667","通知指令接收:"+o+"  数据:"+i),u.e("通知指令接收:"+i,!1,!1,!0),I(1,a,h.hexCharCodeToStr(i),i))})),q()}function G(){uni.stopBluetoothDevicesDiscovery({success:function(e){t("log","at utils/BleKeyFun-utils-single.js:383",e),F=!1,u.e("stopScanBle-true discovering:"+F)},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:388",e),F=!1,u.e("stopScanBle-false discovering:"+F)}})}function W(e){t("log","at utils/BleKeyFun-utils-single.js:861","saveBLEDeviceInfo");var n={};n.deviceId=_,n.readServiceUUID=m,n.writeServiceUUID=f,n.readCharacUUID=S,n.writeCharacUUID=y,n.randomServiceUUID=m,n.randomCharacUUID=B;var i=JSON.stringify(n);uni.setStorage({key:e,data:i,success:function(){}})}const J={connectBLE:function(e,n,i){!function(e,n,i,a){x||j((function(a){a?P((function(a){a?(!function(e,t,n,i,a){C!=i&&(C=i),I!=a&&(I=a),U!=e&&(U=e),Y()}(e,0,0,n,i),uni.startBluetoothDevicesDiscovery({success:function(e){t("log","at utils/BleKeyFun-utils-single.js:339",e),F=e.isDiscovering},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:343",e),F=e.isDiscovering,C(N.BLUETOOTH_ERROR),C(N.BLUETOOTH_DEVICES_DISCOVERY_FAILD)}})):(C(N.BLUETOOTH_ERROR),C(N.BLUETOOTH_ADAPTER_UNAVAILABLE))})):(n(N.BLUETOOTH_ERROR),n(N.BLUETOOTH_UNSUPPORTED))}))}(e,n,i)},releaseBle:function(){U="",F&&(u.e("停止扫描"),G()),x&&(u.e("断开连接"),uni.closeBLEConnection({deviceId:_,success:function(e){t("log","at utils/BleKeyFun-utils-single.js:319",e),x=!1},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:323",e)}})),H&&(u.e("关闭适配器"),uni.closeBluetoothAdapter({success:function(e){t("log","at utils/BleKeyFun-utils-single.js:245",e),H=!1},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:249",e)}})),u.e("释放deviceId"),_="",u.e("关闭连接事件监听"),uni.offBLEConnectionStateChange(),u.e("关闭特征变化监听"),uni.offBLECharacteristicValueChange()},dispatcherSend2:function(e,n){!function(e,n){var i=e;setTimeout((function(){var e;(function(e,n){uni.writeBLECharacteristicValue({deviceId:_,serviceId:A,characteristicId:L,value:e,success:function(e){n(!0)},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:687",e),n(!1)}})})(e=i,(function(n){const i=V();var a=e,o=h.buf2hex(a);n?(t("log","at utils/BleKeyFun-utils-single.js:834","指令发送成功:"+i+"  数据:"+o),u.e("指令发送成功:"+o,!1,!1,!0)):(t("log","at utils/BleKeyFun-utils-single.js:837","!!!指令发送失败:"+i+"  数据:"+o),u.e("!!!指令发送失败:"+o,!1,!1,!0))}))}),10)}(e)},DEFAULT_BLUETOOTH_STATE:N,getBLEConnectionState:function(){return x},getBLEConnectionID:function(){return U},makePair:function(){uni.makeBluetoothPair({deviceId:_,timeout:2e4,success:function(e){t("log","at utils/BleKeyFun-utils-single.js:852",e)},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:855",e)}})},saveBLEDeviceInfo:W,getBLEDeviceInfo:function(e,n){t("log","at utils/BleKeyFun-utils-single.js:879","getBLEDeviceInfo"),uni.getStorage({key:e,success:function(e){var i=JSON.parse(e.data);t("log","at utils/BleKeyFun-utils-single.js:885",_=i.deviceId),t("log","at utils/BleKeyFun-utils-single.js:887",m=i.readServiceUUID),t("log","at utils/BleKeyFun-utils-single.js:889",f=i.writeServiceUUID),t("log","at utils/BleKeyFun-utils-single.js:891",S=i.readCharacUUID),t("log","at utils/BleKeyFun-utils-single.js:893",y=i.writeCharacUUID),t("log","at utils/BleKeyFun-utils-single.js:895",B=i.randomCharacUUID),n(!0,i)},fail:function(e){t("log","at utils/BleKeyFun-utils-single.js:900",e),n(!1)}})},clrBLEDeviceInfo:function(e){t("log","at utils/BleKeyFun-utils-single.js:907","clrBLEDeviceInfo"),uni.removeStorage({key:e,success:function(){}})},connectBLEConnected:function(e,t,n){!function(e,t,n,i){j((function(i){i?P((function(i){i?function(e,t,n,i,a){C!=i&&(C=i),I!=a&&(I=a),U!=e&&(U=e),z()}(e,0,0,t,n):(t(N.BLUETOOTH_ERROR),t(N.BLUETOOTH_ADAPTER_UNAVAILABLE))})):(t(N.BLUETOOTH_ERROR),t(N.BLUETOOTH_UNSUPPORTED))}))}(e,t,n)}},X={url:"",method:"GET",timeout:1e4,loading:!0};const Q=new class{constructor(e){this.baseURL=e.baseURL,this.interceptor={}}setInterceptor(e){this.interceptor=e}async request(e){let n={...X,...e};"function"==typeof this.interceptor.request&&(n=this.interceptor.request(n));let i=this.baseURL+n.url;if(n.params){i+=`?${new URLSearchParams(n.params).toString()}`}try{let e=n.data||{};if(n.isFormData){const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=String(e[n]));e=t}t("log","at utils/request/http.js:65","发送请求:",{url:i,method:n.method,data:e,header:n.header});const a=await uni.request({url:i,method:n.method,data:e,header:n.header,timeout:n.timeout});let o=a;return"function"==typeof this.interceptor.response&&(o=this.interceptor.response(a)),200===o.statusCode?o.data:(t("error","at utils/request/http.js:90","接口返回异常:",o),Promise.reject(o.data))}catch(a){return t("error","at utils/request/http.js:95","请求异常:",a),this.handleError(a),Promise.reject(a)}finally{n.loading&&uni.hideLoading()}}handleError(e){const n=e.errMsg||"";n.includes("timeout")?uni.showToast({title:"请求超时",icon:"none"}):n.includes("abort")?t("log","at utils/request/http.js:115","请求被取消"):uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}get(e,t,n){return this.request({...n,url:e,method:"GET",params:t})}post(e,t,n){return this.request({...n,url:e,method:"POST",data:t})}postFormData(e,t,n){return this.request({...n,url:e,method:"POST",data:t,isFormData:!0})}put(e,t,n){return this.request({...n,url:e,method:"PUT",data:t})}delete(e,t,n){return this.request({...n,url:e,method:"DELETE",params:t})}}({baseURL:"https://k1sw.wiselink.net.cn"});Q.get=(e,t,n)=>Q.request({...n,url:e,method:"GET",params:t}),Q.post=(e,t,n)=>Q.request({...n,url:e,method:"POST",data:t}),Q.postFormData=(e,t,n)=>Q.request({...n,url:e,method:"POST",data:t,isFormData:!0}),Q.put=(e,t,n)=>Q.request({...n,url:e,method:"PUT",data:t}),Q.delete=(e,t,n)=>Q.request({...n,url:e,method:"DELETE",params:t}),Q.setInterceptor({request:e=>{const t=uni.getStorageSync("token");let n=e.header||{};return t&&(n.token=t),e.isFormData?n["content-type"]="application/x-www-form-urlencoded":n["content-type"]="application/json",e.header=n,e},response:e=>(9e3===e.data.code&&uni.navigateTo({url:"/pages/login/login"}),e)});const Z=()=>new Promise(((e,n)=>{uni.getSystemInfo({success:function(n){t("log","at utils/scheme/screen.js:10","屏幕可用高度:",n.windowHeight),e(n)},fail:function(e){t("error","at utils/scheme/screen.js:14","获取系统信息失败",e),n(e)}})})),ee=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n};const te=3,ne=4,ie=5,ae=6,oe=7,se=3,re=4;__definePage("pages/index/index",ee({components:{CustomNavBar:ee({name:"CustomHeader",props:{title:{type:String,default:"首页"}},data:()=>({screenInfo:{},baseLink:"https://k1sw.wiselink.net.cn"}),methods:{async initialScreenInfo(){try{this.screenInfo=await Z()}catch(e){t("error","at components/custom-header/index.vue:45","[ScreenInfo] 获取屏幕信息失败:",e),uni.showToast({title:"设备信息获取失败",icon:"none"})}},handleBack(){this.$emit("back"),uni.navigateBack()},handleHome(){this.$emit("home"),t("log","at components/custom-header/index.vue:61",uni),uni.switchTab({url:"/pages/desk/desk"})}},computed:{userInfo:()=>uni.getStorageSync("user_info")||null,statusBarHeight(){return this.screenInfo.statusBarHeight||0},navBarHeight(){return"ios"===this.screenInfo.platform?49:44},navbarTotalHeight(){return this.statusBarHeight+this.navBarHeight},safeScreenHeight(){return this.screenInfo.screenHeight||667}},mounted(){this.initialScreenInfo()}},[["render",function(t,n,i,a,o,s){return e.openBlock(),e.createElementBlock("view",{class:"custom-navbar",style:e.normalizeStyle({height:s.navbarTotalHeight+"px"})},[e.createElementVNode("view",{class:"status-bar",style:e.normalizeStyle({height:s.statusBarHeight+"px"})},null,4),e.createElementVNode("view",{class:"nav-bar",style:e.normalizeStyle([{height:s.navBarHeight+"px"},{display:"flex",gap:"100rpx","justify-content":"flex-start"}])},[e.createElementVNode("view",{style:{display:"flex","align-items":"center",gap:"30rpx"}},[e.createElementVNode("image",{src:"/static/public/nav_left.png",class:"action-icon back-icon",onClick:n[0]||(n[0]=(...e)=>s.handleBack&&s.handleBack(...e))}),e.createElementVNode("image",{src:"/static/public/home.png",class:"action-icon home-icon",onClick:n[1]||(n[1]=(...e)=>s.handleHome&&s.handleHome(...e))})]),e.createElementVNode("view",{style:{"font-size":"34rpx","font-weight":"600"}},e.toDisplayString(i.title),1)],4)],4)}],["__scopeId","data-v-5fa8bcb5"]])},data(){const e="https://k3a.wiselink.net.cn/img/app/blue";return{screenInfo:{},deviceIDC:"932505100228",orgKey:[51,71,1,130,52,51],orgKeyOld:"",connectionState:"未连接",connectionID:"",blue_tooth_state:!1,parsedData:{electric:"",induction:"",lock:""},voltage_image:"100",voltage_state:!1,controlItems:[{id:1,name:"开锁",enabled:!0,icon:`${e}/unlock_off.png`,ative:`${e}/unlock_on.png`,evt:"handleUnlock"},{id:2,name:"关锁",enabled:!0,icon:`${e}/lock_off.png`,ative:`${e}/lock_on.png`,evt:"handleLock"},{id:3,name:"尾箱",enabled:!0,icon:`${e}/box_off.png`,evt:"handleOpenTrunk"},{id:4,name:"寻车",enabled:!0,icon:`${e}/search_off.png`,evt:"handleFindCar"},{id:5,name:"升窗",enabled:!0,icon:`${e}/search_off.png`,evt:"handleRaiseTheWindow"},{id:6,name:"降窗",enabled:!0,icon:`${e}/search_off.png`,evt:"handleLowerTheWindow"}],logs:[],deviceInfo:{},options:{},netWork:!1,pageInterval:0,bluetoothData:{platenumber:"",startDate:"",endDate:""}}},onLoad(e){this.options=e,this.initToConfigureCache(),this.handleSystemInfo()},onShow:function(){this.initialScreenInfo(),this.handleStart(),this.startConnectionStatusPolling()},onHide:function(){this.cleanupResources()},onUnload:function(){this.cleanupResources()},computed:{statusBarHeight(){return this.screenInfo.statusBarHeight||0},navBarHeight(){return"ios"===this.screenInfo.platform?49:44},navbarTotalHeight(){return this.statusBarHeight+this.navBarHeight},safeScreenHeight(){return this.screenInfo.screenHeight||667}},methods:{async initialScreenInfo(){try{this.screenInfo=await Z()}catch(e){uni.showToast({title:"设备信息获取失败",icon:"none"})}},cleanupResources(){this.pageInterval&&(clearInterval(this.pageInterval),this.pageInterval=null),this.connectionState="未连接",this.connectionID="",this.parsedData={},uni.setKeepScreenOn({keepScreenOn:!1}),setTimeout((()=>{J.releaseBle()}),500)},handleEvent(e){const t={handleUnlock:()=>{this.sendVehicleCommandFun(te,"")},handleLock:()=>{this.sendVehicleCommandFun(ne,"")},handleOpenTrunk:()=>{this.sendVehicleCommandFun(ie,"")},handleFindCar:()=>{this.sendVehicleCommandFun(ae,"")},handleRaiseTheWindow:()=>{this.sendVehicleCommandFun(oe,se)},handleLowerTheWindow:()=>{this.sendVehicleCommandFun(oe,re)}}[e];"function"==typeof t&&t()},parseEventDynamicCode(e,t){this.handleEvent(t)},toggleSensorMode(){var e;const t=this.parsedData.induction,n=!t||"手动模式"===t;if(null==(e=null==this?void 0:this.bluetoothData)?void 0:e.platenumber){if(!n)return void uni.showModal({title:"提示",content:"确认关闭感应模式?",complete:e=>{e.confirm&&this.btnCmdSend(58,[0])}});"感应模式"!=this.parsedData.induction&&uni.showModal({title:"提示",content:"请到开通设定-功能设置处完善设置",complete:e=>{e.confirm&&uni.redirectTo({url:"/pages/listOfPrivateCars/list/index?tabs=3"})}})}else uni.showModal({title:"提示",content:"请先开通设定再到开通设定-功能设置处完善设置",confirmText:"立即开通",success:e=>{e.confirm&&uni.redirectTo({url:"/pages/listOfPrivateCars/list/index"})}})},handleSystemInfo(){uni.getSystemInfo({success:e=>{const{brand:n,model:i,system:a,platform:o,screenWidth:s,screenHeight:r,pixelRatio:c,statusBarHeight:l}=e;this.deviceInfo={brand:n,model:i,system:a,platform:o,screenWidth:s,screenHeight:r,pixelRatio:c,statusBarHeight:l},t("log","at pages/index/index.vue:402","设备信息:",this.deviceInfo)},fail:console.error})},startConnectionStatusPolling(){this.pageInterval||(this.pageInterval=setInterval((()=>{const e=J.getBLEConnectionState(),t=e?J.getBLEConnectionID():"";this.connectionState=e?"已连接":"未连接",this.connectionID=t}),200))},handleStart(){const e=this,t=this.options,n=t=>{t&&(e.deviceIDC=`${null==t?void 0:t.sn}`,e.orgKey=e.handleTransformation(null==t?void 0:t.bluetoothKey),e.orgKeyOld=null==t?void 0:t.bluetoothKey,e.bluetoothData=t,setTimeout((()=>{e.btnStartConnect()}),100))};var i;(null==t?void 0:t.scene)?(i={code:null==t?void 0:t.scene},Q.get("/renterApi/getCarBluetoothKeyByCode",i)).then((e=>{(null==e?void 0:e.content)&&(this.netWork=!0,n(null==e?void 0:e.content))})):uni.getStorage({key:"bluetoothData",success(e){n(e.data)},fail(e){(e=>Q.get("/carapi/getCarList",e))({page:1}).then((e=>{var t,i;uni.setStorageSync("bluetoothData",null==(t=null==e?void 0:e.content)?void 0:t[0]),n(null==(i=null==e?void 0:e.content)?void 0:i[0])}))}})},auth_encrypt:function(e,t){for(var n=[0,0,0,0,0,0,0,0],i=0;i<6;i++)n[i]=e[i]^t[i]^255;return n},handleBindVechi(){uni.redirectTo({url:"/pages/listOfPrivateCars/list/index"})},handleSelectJump(){var e;(null==(e=null==this?void 0:this.bluetoothData)?void 0:e.platenumber)?uni.redirectTo({url:`/pages/privateCar/SettingsDetail/index?sn=${this.deviceIDC}&bluetoothKey=${this.orgKeyOld}`}):uni.showModal({title:"提示",content:"请先绑定车辆",confirmText:"立即绑定",success:e=>{e.confirm&&uni.redirectTo({url:"/pages/listOfPrivateCars/list/index"})}})},handleBlueToothState(){const e=this;e.blue_tooth_state=!0,setTimeout((()=>{e.blue_tooth_state=!1}),3e3)},handleVoltage(){const e=this;e.voltage_state=!0,setTimeout((()=>{e.voltage_state=!1}),3e3)},handleJumpSc(){uni.redirectTo({url:"/pages/privateCar/pdf/index?flag=1"})},bluetoothStateMonitor:function(e){J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_PRE_EXECUTE==e||(J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_ERROR==e?appUtil.hideLoading():J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_ADAPTER_UNAVAILABLE==e?appUtil.showModal("请打开蓝牙",!1,(function(e){})):J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_NOT_FOUND==e?appUtil.showModal("没有发现设备",!1,(function(e){})):J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_CONNECT_FAILED==e||(J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_UNSUPPORTED==e?appUtil.showModal("您的手机不支持低功耗蓝牙",!1,(function(e){})):J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_SEND_FAILED==e?appUtil.showModal("数据发送失败",!1,(function(e){})):J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_NO_RESPONSE==e?appUtil.showModal("设备超时无响应",!1,(function(e){})):J.DEFAULT_BLUETOOTH_STATE.BLUETOOTH_CONNECT_SUCESS==e&&appUtil.hideLoading()))},bluetoothDataMonitor:function(e,t,n,i){const a=i||"";0===e&&(this.btnCmdSend(16,t),setTimeout((()=>{this.PackAndSend(16,8,[0,0,0,0,0,0,0,0])}),1e3)),this.parseData(this.trimHexData(a)),this.handleLoggerapi(a)},btnCmdSend:function(e,t){const n=this,i=[0,0,0,0,0,0,0,0];switch(e){case 16:const a=this.orgKey;n.PackAndSend(e,8,n.auth_encrypt(a,t));break;case 3:case 4:case 5:case 6:n.PackAndSend(e,8,i);break;case 34:n.PackAndSend(e,8,t);break;case 7:n.PackAndSend07(e,8,t);break;case 58:const o=t;this.PackAndSend3a(e,12,o)}},PackAndSend:function(e,t,n){var i=[36,e,t,...n,36];J.dispatcherSend2(this.arrayToArrayBuffer(i))},PackAndSend3a(e,t,n,i){const a=[36],o=[36],s=[...n].concat(new Array(t-n.length).fill(0)).slice(0,t),r=8==t?[...a,e,t,...n,...o]:[...a,e,...s,...o];J.dispatcherSend2(this.arrayToArrayBuffer(r))},PackAndSend07:function(e,t,n){var i=[36,e,t,n,0,0,0,0,0,0,0,36];J.dispatcherSend2(this.arrayToArrayBuffer(i))},arrayToArrayBuffer:function(e,t=1){const n=new Uint8Array(e.length*t);return e.forEach(((e,i)=>n[i*t]=e)),n.buffer},handleTransformation(e){if(!e)return;const t=e.toString(),n=[];for(let i=0;i<t.length;i+=2){const e=t.substring(i,i+2);n.push(parseInt(e,16))}return n},initVoltage(e){const t=[4,3.9,3.8,3.7,3.6,3.5,3.4,3.3,3.2,3.1].findIndex((t=>e>=t));return-1!==t?[100,90,80,70,60,50,40,30,20,10][t]:0},getBatteryImage(e){const t=[{min:75,value:"100"},{min:50,value:"75"},{min:25,value:"50"},{min:10,value:"25"}].find((t=>e>t.min))||{value:"0"};this.voltage_image=t.value},getBatteryLevel(e){this.getBatteryImage(e);const t=[90,80,70,60,50,40,30,20,10,5].findIndex((t=>e>t));return-1!==t?["100","90","80","70","60","50","40","30","20","10"][t]:"1"},parseHexDataObject:function(e){if(30!==e.length)return null;const t=[];for(let i=0;i<30;i+=2)t.push(parseInt(e.substr(i,2),16));const n={};return n.lock=1===t[2],n.voltage=(t[12]/10).toFixed(1),n.electric=this.getBatteryLevel(this.initVoltage((t[12]/10).toFixed(1))),n.supply=t[3],n.induction=1===t[0]?"感应模式":"手动模式",n},handleLoggerapi(e){var n,i;const{deviceInfo:a,deviceIDC:o,logs:s}=this,r=null==(i=null==(n=getApp().globalData.data)?void 0:n.userInfo)?void 0:i.id,c=new Date,l=c.getFullYear()+"-"+String(c.getMonth()+1).padStart(2,"0")+"-"+String(c.getDate()).padStart(2,"0")+" "+String(c.getHours()).padStart(2,"0")+":"+String(c.getMinutes()).padStart(2,"0")+":"+String(c.getSeconds()).padStart(2,"0"),u=[...s,{userId:r,sn:o,mobileinfo:`${(null==a?void 0:a.brand)||""} ${(null==a?void 0:a.model)||""} ${(null==a?void 0:a.platform)||""} ${(null==a?void 0:a.system)||""}`,content:`${e}${JSON.stringify(this.parseHexDataObject(this.trimHexData(e)))}`,logdate:l}];var d;u.length>=10?(d=u,Q.post("/loggerapi/uploadLog",d)).then((e=>{t("log","at pages/index/index.vue:782",e),1e3===(null==e?void 0:e.code)?this.logs=[]:this.logs=u})).catch((()=>{this.logs=u})):this.logs=u},parseData:function(e){const t=this.parseHexDataObject(e);t&&(this.parsedData=t)},btnStartConnect:function(){const e=this;""==e.connectionID?J.connectBLE(e.deviceIDC,(function(t){e.bluetoothStateMonitor(t)}),(function(t,n,i,a){e.bluetoothDataMonitor(t,n,i,a)})):appUtil.showModal("已连接蓝牙",!1,(function(e){}))},trimHexData:function(e){if("string"!=typeof e||!/^[0-9a-fA-F]+$/.test(e))throw new Error("无效的16进制字符串");return e.slice(4,-2)},btnEndConnect:function(){J.releaseBle()},sendVehicleCommandFun:function(e,t){var n,i;(null==(n=null==this?void 0:this.bluetoothData)?void 0:n.platenumber)?(null==(i=null==this?void 0:this.bluetoothData)?void 0:i.platenumber)&&"已连接"==this.connectionState?uni.showModal({title:"提示",content:3==e||4==e?"确认下发指令":"如原车钥匙不支持此功能请自行点击【更多钥匙功能】关闭",confirmText:3==e||4==e?"确认":"确认支持",complete:n=>{n.confirm&&(uni.showLoading({title:"加载中...",mask:!0}),this.btnCmdSend(e,t),setTimeout((()=>{uni.hideLoading()}),1e3),this.handleSendInfo(e,t))}}):"未连接"!=this.connectionState||uni.showToast({title:"请等待蓝牙连接后重试",icon:"none"}):uni.showModal({title:"提示",content:"请先开通设定再到开通设定-功能设置处完善设置",confirmText:"立即开通",success:e=>{e.confirm&&uni.redirectTo({url:"/pages/listOfPrivateCars/list/index"})}})},handleSendInfo(e,t){var n;const i={sn:this.deviceIDC,controltype:`${e}${t}`,electricity:(null==(n=null==this?void 0:this.parsedData)?void 0:n.electric)||0};var a;a=i,Q.postFormData("/renterApi/uploadControlRecord",a)},handleToConfigure:function(){uni.redirectTo({url:"/pages/privateCar/btSettings/index?sign=4"})},btnConnected:function(){J.connectedDevice()},initToConfigureCache(){const e=this.controlItems||[];uni.getStorage({key:"controlItems",success:t=>{const n=t.data||[],i=[...e,...n],a=new Map;i.forEach((e=>{a.get(e.id)?!1===e.enabled&&a.set(e.id,e):a.set(e.id,e)}));const o=Array.from(a.values());this.controlItems=o}})}}},[["render",function(t,n,i,a,o,s){const r=e.resolveComponent("CustomNavBar");return e.openBlock(),e.createElementBlock("view",{class:"container",style:e.normalizeStyle({height:`${s.safeScreenHeight}px`})},[e.createVNode(r,{title:"手机钥匙控车"}),e.createElementVNode("view",{class:"vehicle-card",style:e.normalizeStyle("margin-top: "+s.navbarTotalHeight+"px;")},[e.createElementVNode("view",{class:"license-plate-section"},[e.createElementVNode("view",{class:"license-plate-container"},[e.createElementVNode("view",{class:"vehicle-info"},[o.bluetoothData.platenumber?(e.openBlock(),e.createElementBlock("text",{key:0,class:"license-plate"},e.toDisplayString(o.bluetoothData.platenumber),1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"license-plate bind-vehicle",onClick:n[0]||(n[0]=(...e)=>s.handleBindVechi&&s.handleBindVechi(...e))},"请绑定车辆")),e.createElementVNode("view",{class:"vehicle-status"},[e.createElementVNode("view",{class:e.normalizeClass(["status-dot","已连接"===o.connectionState?"connected":"disconnected"])},null,2),e.createElementVNode("text",{class:"status-text"},e.toDisplayString(o.connectionState),1)])])])]),e.createElementVNode("view",{class:"vehicle-image-container"},[e.createElementVNode("image",{class:"vehicle-image",src:"https://k3a.wiselink.net.cn/img/app/blue/privateCar.png",mode:"aspectFit"}),e.createElementVNode("view",{class:"vehicle-overlay"},[e.createElementVNode("view",{class:"battery-status",onClick:n[1]||(n[1]=(...e)=>s.handleVoltage&&s.handleVoltage(...e))},[e.createElementVNode("image",{src:"https://k3a.wiselink.net.cn/img/app/blue/battery_"+o.voltage_image+".png",class:"battery-icon"},null,8,["src"]),o.parsedData.electric?(e.openBlock(),e.createElementBlock("text",{key:0,class:"battery-text"},e.toDisplayString(o.parsedData.electric||100)+"%",1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"battery-text"},"--"))]),e.createElementVNode("view",{class:"bluetooth-container"},[e.createElementVNode("view",{class:e.normalizeClass("bluetooth-status "+("已连接"==o.connectionState?"connected":"disconnected")),onClick:n[2]||(n[2]=(...e)=>s.handleBlueToothState&&s.handleBlueToothState(...e))},["已连接"==o.connectionState?(e.openBlock(),e.createElementBlock("icon",{key:0,type:"success",size:"16",color:"#2d8cf0"})):(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading-icon"})),e.createElementVNode("text",null,e.toDisplayString("已连接"==o.connectionState?"蓝牙已连接":"蓝牙已断开"),1)],2)])])]),o.netWork?(e.openBlock(),e.createElementBlock("view",{key:1,class:"GY-grant"},[e.createElementVNode("view",{class:"grant-title"},"授权使用时间"),e.createElementVNode("view",{class:"grant-period"},e.toDisplayString(o.bluetoothData.startDate)+" 至 "+e.toDisplayString(o.bluetoothData.endDate),1)])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"mode-section"},[e.createElementVNode("view",{class:"GY-sensor-mode-wrapper",onClick:n[3]||(n[3]=(...e)=>s.toggleSensorMode&&s.toggleSensorMode(...e))},[e.createElementVNode("view",{class:e.normalizeClass("GY-sensor-mode "+("感应模式"==o.parsedData.induction&&"已连接"==o.connectionState?"on":"off"))},[e.createElementVNode("view",{class:e.normalizeClass("GY-ripple "+("感应模式"==o.parsedData.induction&&"已连接"==o.connectionState?"active":""))},null,2),e.createElementVNode("view",{class:"GY-icon"}),e.createElementVNode("view",{class:"GY-label",style:e.normalizeStyle("color:"+("感应模式"==o.parsedData.induction&&"已连接"==o.connectionState?"#fff":"#333")+";")},[e.createElementVNode("text",null,e.toDisplayString("感应模式"==o.parsedData.induction&&"已连接"==o.connectionState?"感应模式已开启":"感应模式已关闭"),1),e.createElementVNode("image",{src:"感应模式"==o.parsedData.induction&&"已连接"==o.connectionState?"https://k3a.wiselink.net.cn/img/app/blue/arrow.png":"https://k3a.wiselink.net.cn/img/app/blue/arrow_01.png",style:{width:"37rpx",height:"37rpx"}},null,8,["src"])],4)],2)])]))],4),e.createElementVNode("view",{class:"control-section"},[e.createElementVNode("view",{class:"control-title"},[e.createElementVNode("view",{class:"title-bold"},"手动操作"),e.createElementVNode("view",{class:"more-functions",onClick:n[4]||(n[4]=(...e)=>s.handleToConfigure&&s.handleToConfigure(...e))},[e.createElementVNode("text",null,"更多钥匙功能"),e.createElementVNode("image",{src:"/static/privateCar/right_1.png"})])]),e.createElementVNode("view",{class:"control-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.controlItems,((t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"control-item",key:n},[t.enabled?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"control-icon",onClick:e=>s.parseEventDynamicCode(e,t.evt),"data-id":t.id},[e.createElementVNode("image",{src:(1===t.id||2===t.id)&&(1===t.id?o.parsedData.lock:!o.parsedData.lock)?t.ative:t.icon,class:"control-icon-image"},null,8,["src"])],8,["onClick","data-id"]),e.createElementVNode("text",{class:"control-name"},e.toDisplayString(t.name),1)],64)):e.createCommentVNode("",!0)])))),128))])])],4)}]]));const ce={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:le,Vuex:ue,Pinia:de}={app:e.createVueApp(ce)};uni.Vuex=ue,uni.Pinia=de,le.provide("__globalStyles",__uniConfig.styles),le._component.mpType="app",le._component.render=()=>{},le.mount("#app")}(Vue);
