if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((o=>t.resolve(e()).then((()=>o))),(o=>t.resolve(e()).then((()=>{throw o}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...o){uni.__log__?uni.__log__(e,t,...o):console[e].apply(console,[...o,t])}__definePage("pages/index/index",((e,t)=>{const o=e.__vccOpts||e;for(const[n,r]of t)o[n]=r;return o})({data:()=>({latitude:39.90469,longitude:116.40717,markers:[{id:1,latitude:39.90469,longitude:116.40717,title:"天安门",callout:{content:"这里是天安门",display:"ALWAYS"}}],entries:[{text:"开锁",icon:"/static/lock.png"},{text:"关锁",icon:"/static/unlock.png"},{text:"寻车",icon:"/static/xunche.png"},{text:"尾箱",icon:"/static/weixiang.png"},{text:"升窗",icon:"/static/sc.png"},{text:"降窗",icon:"/static/jc.png"},{text:"左中门",icon:"/static/zm.png"},{text:"右中门",icon:"/static/ym.png"}],itemsPerPage:4,current:0,screenInfo:{}}),async onLoad(){this.isLoading=!0,uni.hideTabBar({animation:!0});try{await Promise.allSettled([this.initialScreenInfo()])}catch(e){t("error","at pages/index/index.vue:195","初始化失败:",e)}finally{this.isLoading=!1}this.getLocation()},computed:{pages(){const e=[],t=this.entries.length;for(let o=0;o<t;o+=this.itemsPerPage)e.push(this.entries.slice(o,o+this.itemsPerPage));return e},containerStyle(){return t("log","at pages/index/index.vue:212",this.screenInfo),{height:`${this.screenInfo.screenHeight||667}px`}},navbarStyle(){return{marginTop:`${this.screenInfo.statusBarHeight}px`}}},methods:{async initialScreenInfo(){try{this.screenInfo=await new Promise(((e,o)=>{uni.getSystemInfo({success:function(o){t("log","at utils/scheme/screen.js:10","屏幕可用高度:",o.windowHeight),e(o)},fail:function(e){t("error","at utils/scheme/screen.js:14","获取系统信息失败",e),o(e)}})}))}catch(e){t("error","at pages/index/index.vue:231","[ScreenInfo] 获取屏幕信息失败:",e)}},onSwiperChange(e){this.current=e.detail.current},getLocation(){uni.getLocation({type:"gcj02",success:e=>{this.latitude=e.latitude,this.longitude=e.longitude,this.markers[0].latitude=e.latitude,this.markers[0].longitude=e.longitude,this.markers[0].title="当前位置",this.markers[0].callout.content="你在这里"},fail:e=>{t("error","at pages/index/index.vue:251","获取位置失败",e),uni.showToast({title:"定位失败",icon:"none"})}})},onRegionChange(e){t("log","at pages/index/index.vue:260","地图区域变化",e)}}},[["render",function(t,o,n,r,a,i){return e.openBlock(),e.createElementBlock("section",{class:"control_container",style:e.normalizeStyle(i.containerStyle),onTouchmove:o[2]||(o[2]=e.withModifiers((()=>{}),["prevent"]))},[e.createElementVNode("view",{class:"control_title",style:e.normalizeStyle(i.navbarStyle)},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(" 雅迪王 "),e.createElementVNode("text",{style:{"font-size":"16px"}},"京AYU76G")]),e.createElementVNode("view",{class:"icons-container"},[e.createElementVNode("image",{src:"/static/set_up.png",class:"icon"})])]),e.createElementVNode("view",{class:"subtitle"},[e.createElementVNode("text",null,"已关锁"),e.createElementVNode("text",{class:"location-divider"},"丨"),e.createElementVNode("text",null,"北京市丰台区海鹰大厦")])],4),e.createElementVNode("view",{class:"control_car_picture"},[e.createElementVNode("map",{id:"myMap",scale:20,class:"map",latitude:a.latitude,longitude:a.longitude,markers:a.markers,"show-location":"",onRegionchange:o[0]||(o[0]=(...e)=>i.onRegionChange&&i.onRegionChange(...e))},[e.createElementVNode("cover-view",{class:"map_control"},[e.createElementVNode("cover-image",{src:"/static/bluetooth.png",class:"map_image"})])],40,["latitude","longitude","markers"])]),e.createElementVNode("view",{class:"control_quick-entry"},[e.createElementVNode("swiper",{class:"entry-swiper","indicator-dots":!1,"indicator-color":"rgba(0, 0, 0, .3)","indicator-active-color":"#ffffff",autoplay:!1,interval:3e3,duration:500,circular:!1,vertical:!1,onChange:o[1]||(o[1]=(...e)=>i.onSwiperChange&&i.onSwiperChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.pages,((o,n)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:n},[e.createElementVNode("view",{class:"entry-page"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o,((o,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"entry-item",onClick:e=>t.handleClick(o)},[e.createElementVNode("image",{src:o.icon,class:"entry-icon",mode:"aspectFit"},null,8,["src"]),e.createElementVNode("text",{class:"entry-text"},e.toDisplayString(o.text),1)],8,["onClick"])))),128))])])))),128))],32),e.createElementVNode("view",{class:"custom-indicator"},e.toDisplayString(a.current+1)+" / "+e.toDisplayString(i.pages.length),1)]),e.createElementVNode("view",{class:"control_info-root"},[e.createElementVNode("view",{class:"control_info-left-card"},[e.createElementVNode("view",{class:"control_info-corner control_info-top-left"},[e.createElementVNode("text",{class:"control_info-date"},"29天前"),e.createElementVNode("text",{class:"control_info-label"},"上次充电")]),e.createElementVNode("view",{class:"control_info-corner control_info-top-right"},[e.createElementVNode("text",{class:"control_info-battery-value"},[e.createTextVNode(" 72"),e.createElementVNode("text",{class:"control_info-battery-unit"},"%")])]),e.createElementVNode("view",{class:"control_info-corner control_info-bottom-left"},[e.createElementVNode("text",{class:"control_info-label"},"21天"),e.createElementVNode("text",{class:"control_info-date"},"已用天数")]),e.createElementVNode("view",{class:"control_info-corner control_info-bottom-right"},[e.createElementVNode("text",{class:"control_info-label"},"10天"),e.createElementVNode("text",{class:"control_info-date"},"可用天数")])]),e.createElementVNode("view",{class:"control_info-right-container"},[e.createElementVNode("view",{class:"control_info-right-item"},[e.createElementVNode("image",{src:"/static/gy.png",class:"control_info-icon"}),e.createElementVNode("view",{class:"control_car_text"},[e.createElementVNode("text",{class:"control_info-title"},"感应模式"),e.createElementVNode("text",{class:"control_info-status"},"未开启")])]),e.createElementVNode("view",{class:"control_info-right-item"},[e.createElementVNode("image",{src:"/static/clzx.png",class:"control_info-icon"}),e.createElementVNode("text",{class:"control_info-title"},"车辆中心")])])]),this.screenInfo.screenHeight>600?(e.openBlock(),e.createElementBlock("view",{key:0,class:"control_footer"},[e.createElementVNode("view",{class:"footer-content"},[e.createElementVNode("view",{class:"footer-item"},[e.createElementVNode("text",{class:"footer-title"},"连接状态："),e.createElementVNode("text",{class:"footer-info"},"当地图上蓝牙图标呈蓝色高亮时，表示车辆已就绪，可进行操控")]),e.createElementVNode("view",{class:"footer-item"},[e.createElementVNode("text",{class:"footer-title"},"位置信息："),e.createElementVNode("text",{class:"footer-info"},"当前显示为车辆上一次蓝牙连接时的最后记录位置")]),e.createElementVNode("view",{class:"footer-item"},[e.createElementVNode("text",{class:"footer-title"},"操控区域："),e.createElementVNode("text",{class:"footer-info"},"基础控制功能适用于全部车型，高级功能仅支持高配版及商务车型")]),e.createElementVNode("view",{class:"footer-item"},[e.createElementVNode("text",{class:"footer-title"},"电量信息："),e.createElementVNode("text",{class:"footer-info"},"蓝牙连接后同步获取，可用天数预估基于本次充电后的实际用车习惯动态计算")]),e.createElementVNode("view",{class:"footer-item"},[e.createElementVNode("text",{class:"footer-title"},"感应模式："),e.createElementVNode("text",{class:"footer-info"},"需在设置中完成蓝牙配对后方可启用（仅限车主账户操作）")])])])):e.createCommentVNode("",!0)],36)}],["__scopeId","data-v-1a5213c5"]]));const o={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:n,Vuex:r,Pinia:a}={app:e.createVueApp(o)};uni.Vuex=r,uni.Pinia=a,n.provide("__globalStyles",__uniConfig.styles),n._component.mpType="app",n._component.render=()=>{},n.mount("#app")}(Vue);
